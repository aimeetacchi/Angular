<div *ngIf="dataReady" class="container">
    <div *ngIf="!submitted">
        <p class="text-center m-4"><strong>Hello, {{ customerSalutation }} {{ customerLastName }}</strong></p>
        <p><strong>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla rerum mollitia corrupti! Laborum neque saepe nobis omnis maxime ratione. Itaque ad earum qui sint quia totam ea eligendi voluptatum consequatur!:</strong></p>
    </div>
        <form *ngIf="!submitted" [formGroup]="yourPreferences" (ngSubmit)="onSubmit()" class="preferencesForm" novalidate>
            <mat-card class="formSections mb-4">
                <mat-accordion>
                    <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <h2>Servicing and MOT Reminders</h2> 
                            </mat-panel-title>  
                        </mat-expansion-panel-header>
                        <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Minus hic atque mollitia reiciendis vel odit expedita eos rem repellat dicta dolores, veritatis facilis vitae. Natus cupiditate blanditiis inventore aspernatur quis.</p>
                        <div class="checkboxSection"> 
                            <div *ngFor="let el of servicingAndMot; let i = index">
                                <mat-checkbox name="servicingAndMot" required (change)="onChange($event)" [value]="el"> {{el}} </mat-checkbox> 
                            </div>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>   
            </mat-card>
            
            <mat-card class="formSections mb-4">
                <mat-accordion>
                    <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <h2>Marketing</h2>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Minus hic atque mollitia reiciendis vel odit expedita eos rem repellat dicta dolores, veritatis facilis vitae. Natus cupiditate blanditiis inventore aspernatur quis.</p>
                        <div class="checkboxSection"> 
                            <div *ngFor="let el of marketing; let i = index">
                                <mat-checkbox name="marketing" required (change)="onChange($event)" [value]="el"> {{el}} </mat-checkbox>
                            </div>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
            </mat-card> 

            <mat-card class="formSections mb-4">
                <mat-accordion>
                    <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <h2>Manufacturer Updates and Recalls</h2>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Minus hic atque mollitia reiciendis vel odit expedita eos rem repellat dicta dolores, veritatis facilis vitae. Natus cupiditate blanditiis inventore aspernatur quis.</p> 
                        <div class="checkboxSection"> 
                            <div *ngFor="let el of manufacturer; let i = index">
                                <mat-checkbox name="manufacturer" required (change)="onChange($event)" [value]="el"> {{el}} </mat-checkbox>
                            </div>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
            </mat-card> 

            <section class="thanksSection">
                <p class="pt-3 pb-3">Thank you Lorem ipsum dolor sit, amet consectetur adipisicing elit. Minus hic atque mollitia reiciendis vel odit expedita eos rem repellat dicta dolores, veritatis facilis vitae. Natus cupiditate blanditiis inventore aspernatur quis.</p>

                <button [disabled]="!checkReady()" type="submit" mat-raised-button>Submit</button>
            </section>
        </form>

        <div class="m-5 text-center text-success" *ngIf="submitted">
            <p>Thanks {{ customerSalutation }} {{ customerLastName }}</p>
            <p>your form has been submitted!</p>
        </div>

       
</div>


